{
  "description": "Test JSON examples for FormSubmissions endpoints",
  
  "1_POST_FormSubmissions_draft": {
    "endpoint": "POST /api/FormSubmissions/draft",
    "method": "Query Parameters (GET-style)",
    "url_with_userId": "https://localhost:7276/api/FormSubmissions/draft?formBuilderId=1&projectId=1&submittedByUserId=public-user",
    "url_without_userId": "https://localhost:7276/api/FormSubmissions/draft?formBuilderId=1&projectId=1",
    "url_with_null": "https://localhost:7276/api/FormSubmissions/draft?formBuilderId=1&projectId=1&submittedByUserId=",
    "note": "submittedByUserId is now optional (nullable). If null or empty, it will default to 'public-user'"
  },

  "2_POST_FormSubmissions_Create": {
    "endpoint": "POST /api/FormSubmissions",
    "method": "JSON Body",
    "example": {
      "formBuilderId": 1,
      "documentTypeId": 1,
      "seriesId": 1,
      "submittedByUserId": "public-user",
      "status": "Draft"
    }
  },

  "3_POST_FormSubmissions_save-data": {
    "endpoint": "POST /api/FormSubmissions/save-data",
    "method": "JSON Body",
    "example": {
      "submissionId": 1,
      "fieldValues": [
        {
          "fieldId": 48,
          "fieldCode": "CustomerType",
          "valueString": "Individual"
        },
        {
          "fieldId": 49,
          "fieldCode": "CustomerName",
          "valueString": "Ahmed Ali"
        },
        {
          "fieldId": 50,
          "fieldCode": "OrderAmount",
          "valueNumber": 1500.50
        },
        {
          "fieldId": 51,
          "fieldCode": "OrderDate",
          "valueDate": "2024-01-15T10:30:00Z"
        },
        {
          "fieldId": 52,
          "fieldCode": "IsActive",
          "valueBool": true
        }
      ],
      "attachments": [
        {
          "fieldId": 53,
          "fieldCode": "DocumentFile",
          "fileName": "invoice.pdf",
          "filePath": "/uploads/invoice.pdf",
          "fileSize": 102400,
          "contentType": "application/pdf"
        }
      ],
      "gridData": [
        {
          "gridId": 1,
          "rowIndex": 0,
          "cells": [
            {
              "columnId": 1,
              "columnCode": "ItemName",
              "valueString": "Product A"
            },
            {
              "columnId": 2,
              "columnCode": "Quantity",
              "valueNumber": 10
            },
            {
              "columnId": 3,
              "columnCode": "Price",
              "valueNumber": 150.00
            }
          ]
        }
      ]
    }
  },

  "4_POST_FormSubmissions_save-data_simple": {
    "endpoint": "POST /api/FormSubmissions/save-data",
    "method": "JSON Body - Simple Example",
    "example": {
      "submissionId": 1,
      "fieldValues": [
        {
          "fieldId": 48,
          "fieldCode": "CustomerType",
          "valueString": "Individual"
        },
        {
          "fieldId": 49,
          "fieldCode": "CustomerName",
          "valueString": "Test Customer"
        }
      ],
      "attachments": [],
      "gridData": []
    }
  },

  "curl_examples": {
    "1_create_draft_with_userId": "curl -X POST \"https://localhost:7276/api/FormSubmissions/draft?formBuilderId=1&projectId=1&submittedByUserId=public-user\" -H \"Content-Type: application/json\"",
    "1_create_draft_without_userId": "curl -X POST \"https://localhost:7276/api/FormSubmissions/draft?formBuilderId=1&projectId=1\" -H \"Content-Type: application/json\"",
    
    "2_create_submission": "curl -X POST \"https://localhost:7276/api/FormSubmissions\" -H \"Content-Type: application/json\" -d '{\"formBuilderId\":1,\"documentTypeId\":1,\"seriesId\":1,\"submittedByUserId\":\"public-user\",\"status\":\"Draft\"}'",
    
    "3_save_data": "curl -X POST \"https://localhost:7276/api/FormSubmissions/save-data\" -H \"Content-Type: application/json\" -d '{\"submissionId\":1,\"fieldValues\":[{\"fieldId\":48,\"fieldCode\":\"CustomerType\",\"valueString\":\"Individual\"}],\"attachments\":[],\"gridData\":[]}'"
  },

  "postman_collection": {
    "1_draft": {
      "method": "POST",
      "url": "https://localhost:7276/api/FormSubmissions/draft",
      "params_required": [
        {"key": "formBuilderId", "value": "1", "required": true},
        {"key": "projectId", "value": "1", "required": true}
      ],
      "params_optional": [
        {"key": "submittedByUserId", "value": "public-user", "required": false, "note": "If null or empty, defaults to 'public-user'"}
      ]
    },
    "2_create": {
      "method": "POST",
      "url": "https://localhost:7276/api/FormSubmissions",
      "headers": {
        "Content-Type": "application/json"
      },
      "body": {
        "formBuilderId": 1,
        "documentTypeId": 1,
        "seriesId": 1,
        "submittedByUserId": "public-user",
        "status": "Draft"
      }
    },
    "3_save_data": {
      "method": "POST",
      "url": "https://localhost:7276/api/FormSubmissions/save-data",
      "headers": {
        "Content-Type": "application/json"
      },
      "body": {
        "submissionId": 1,
        "fieldValues": [
          {
            "fieldId": 48,
            "fieldCode": "CustomerType",
            "valueString": "Individual"
          }
        ],
        "attachments": [],
        "gridData": []
      }
    }
  }
}

